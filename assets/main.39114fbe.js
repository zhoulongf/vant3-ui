import{_ as h,a as U,p as R,c as Q,b as g,s as D,i as W,d as M,l as z,e as k,f as j,g as B,h as Z}from"./iframe-router.12859c05.js";import{c as S,n as b,a as c,r as p,o as r,F as x,b as _,d,t as m,e as v,f,g as O,h as N,w,T as H,i as y,j as G,v as J,p as P,k as K,l as q,m as Y,q as X,s as $}from"./vue-libs.6baccb04.js";const oo={name:"VanDocNavLink",props:{base:String,item:Object},computed:{itemName(){const o=(this.item.title||this.item.name).split(" ");return`${o[0]} <span>${o.slice(1).join(" ")}</span>`},path(){return`${this.base}${this.item.path}`},active(){return this.$route.path===this.path?!0:this.item.path==="home"?this.$route.path===this.base:!1}},watch:{active(){this.scrollIntoView()}},mounted(){this.scrollIntoView()},methods:{scrollIntoView(){this.active&&this.$el&&this.$el.scrollIntoViewIfNeeded&&this.$el.scrollIntoViewIfNeeded()}}},eo=["href","innerHTML"],no=["innerHTML"];function ao(o,n,e,i,t,a){const l=p("router-link");return e.item.path?(r(),S(l,{key:0,class:b({active:a.active}),to:a.path,innerHTML:a.itemName},null,8,["class","to","innerHTML"])):e.item.link?(r(),c("a",{key:1,href:e.item.link,innerHTML:a.itemName},null,8,eo)):(r(),c("a",{key:2,innerHTML:a.itemName},null,8,no))}var T=h(oo,[["render",ao]]);const to={name:"VanDocNav",components:{[T.name]:T},props:{lang:String,navConfig:Array},data(){return{top:64,bottom:0}},computed:{style(){return{top:this.top+"px",bottom:this.bottom+"px"}},base(){return this.lang?`/${this.lang}/`:"/"}},created(){window.addEventListener("scroll",this.onScroll),this.onScroll()},methods:{onScroll(){const{pageYOffset:o}=window;this.top=Math.max(0,64-o)}}},io={class:"van-doc-nav__title"};function ro(o,n,e,i,t,a){const l=p("van-doc-nav-link");return r(),c("div",{class:"van-doc-nav",style:O(a.style)},[(r(!0),c(x,null,_(e.navConfig,(s,u)=>(r(),c("div",{class:"van-doc-nav__group",key:u},[d("div",io,m(s.title),1),s.items?(r(!0),c(x,{key:0},_(s.items,(A,E)=>(r(),c("div",{key:E,class:"van-doc-nav__item"},[v(l,{item:A,base:a.base},null,8,["item","base"])]))),128)):f("v-if",!0)]))),128))],4)}var co=h(to,[["render",ro]]);const so={name:"VanDocSearch",props:{lang:String,searchConfig:Object},watch:{lang(){this.initDocsearch()}},mounted(){this.initDocsearch()},methods:{initDocsearch(){this.searchConfig&&(U(()=>Promise.resolve({}),["assets/style.07d69422.css"]),U(()=>import("./index.3665b69b.js"),[]).then(o=>{o.default({...this.searchConfig,container:"#docsearch"})}))}}},lo={id:"docsearch"};function po(o,n,e,i,t,a){return r(),c("div",lo)}var ho=h(so,[["render",po]]);const go={name:"VanDocHeader",components:{SearchInput:ho},props:{lang:String,config:Object,versions:Array,langConfigs:Array},data(){return{packageVersion:R,showVersionPop:!1}},computed:{langLink(){return`#${this.$route.path.replace(this.lang,this.anotherLang.lang)}`},langLabel(){return this.anotherLang.label},anotherLang(){const o=this.langConfigs.filter(n=>n.lang!==this.lang);return o.length?o[0]:{}},searchConfig(){return this.config.searchConfig}},methods:{toggleVersionPop(){const o=!this.showVersionPop,n=o?"add":"remove";document.body[`${n}EventListener`]("click",this.checkHideVersionPop),this.showVersionPop=o},checkHideVersionPop(o){this.$refs.version.contains(o.target)||(this.showVersionPop=!1)},onSwitchLang(o){this.$router.push(this.$route.path.replace(o.from,o.to))},onSwitchVersion(o){o.link&&(location.href=o.link)}}},fo={class:"van-doc-header"},uo={class:"van-doc-row"},mo={class:"van-doc-header__top"},vo={class:"van-doc-header__logo"},bo=["src"],xo={class:"van-doc-header__title"},yo={key:0,class:"van-doc-header__subtitle"},Ao={class:"van-doc-header__top-nav"},ko=["href"],_o=["src"],wo={key:1},So={key:0,ref:"version",class:"van-doc-header__top-nav-item"},Co={key:0,class:"van-doc-header__version-pop"},Eo=["onClick"],Uo={key:1,class:"van-doc-header__top-nav-item"},Bo=["href"];function To(o,n,e,i,t,a){const l=p("search-input");return r(),c("div",fo,[d("div",uo,[d("div",mo,[d("a",vo,[d("img",{src:e.config.logo},null,8,bo),d("span",xo,m(e.config.title),1),e.config.subtitle?(r(),c("span",yo,m(e.config.subtitle),1)):f("v-if",!0)]),d("ul",Ao,[(r(!0),c(x,null,_(e.config.links,(s,u)=>(r(),c("li",{key:u,class:"van-doc-header__top-nav-item"},[d("a",{class:"van-doc-header__link",target:"_blank",href:s.url},[s.logo?(r(),c("img",{key:0,src:s.logo},null,8,_o)):s.text?(r(),c("span",wo,m(s.text),1)):f("v-if",!0)],8,ko)]))),128)),e.versions?(r(),c("li",So,[d("span",{class:"van-doc-header__cube van-doc-header__version",onClick:n[0]||(n[0]=(...s)=>a.toggleVersionPop&&a.toggleVersionPop(...s))},[N(m(t.packageVersion)+" ",1),v(H,{name:"van-doc-dropdown"},{default:w(()=>[t.showVersionPop?(r(),c("div",Co,[(r(!0),c(x,null,_(e.versions,(s,u)=>(r(),c("div",{key:u,class:"van-doc-header__version-pop-item",onClick:A=>a.onSwitchVersion(s)},m(s.label),9,Eo))),128))])):f("v-if",!0)]),_:1})])],512)):f("v-if",!0),a.langLabel&&a.langLink?(r(),c("li",Uo,[d("a",{class:"van-doc-header__cube",href:a.langLink},m(a.langLabel),9,Bo)])):f("v-if",!0),a.searchConfig?(r(),S(l,{key:2,lang:e.lang,"search-config":a.searchConfig},null,8,["lang","search-config"])):f("v-if",!0)])])])])}var Io=h(go,[["render",To]]);const Fo={name:"VanDocContent",computed:{currentPage(){const{path:o}=this.$route;return o?o.split("/").slice(-1)[0]:this.$route.name}},watch:{$route(o,n){n.path!==o.path&&setTimeout(()=>{this.copyAction()})}},mounted(){this.copyAction()},methods:{onClick({target:o}){["H2","H3","H4","H5"].includes(o.tagName)&&this.scrollToAnchor(o)},scrollToAnchor(o){o.id&&this.$router.push({name:this.$route.name,hash:"#"+o.id})},copyAction(){const o=document.querySelectorAll(".van-doc-card pre code");if(!(!o||!o.length))for(let n=0;n<o.length;n++){const e=o[n];let i=null;e.addEventListener("click",()=>{if(i)return;const t=e.innerText;Q(t),e.classList.add("code-copy-success"),i=setTimeout(()=>{e.classList.remove("code-copy-success"),i=null},1400)})}}}};function Qo(o,n,e,i,t,a){return r(),c("div",{class:b(["van-doc-content",`van-doc-content--${a.currentPage}`]),onClick:n[0]||(n[0]=(...l)=>a.onClick&&a.onClick(...l))},[y(o.$slots,"default")],2)}var Oo=h(Fo,[["render",Qo]]);const Vo={name:"VanDocContainer",props:{hasSimulator:Boolean}};function Lo(o,n,e,i,t,a){return r(),c("div",{class:b(["van-doc-container van-doc-row",{"van-doc-container--with-simulator":e.hasSimulator}])},[y(o.$slots,"default")],2)}var Ro=h(Vo,[["render",Lo]]);const Do={name:"VanDocSimulator",props:{src:String},data(){return{scrollTop:window.scrollY,windowHeight:window.innerHeight}},computed:{isFixed(){return this.scrollTop>60},simulatorStyle(){return{height:Math.min(640,this.windowHeight-90)+"px"}}},mounted(){window.addEventListener("scroll",()=>{this.scrollTop=window.scrollY}),window.addEventListener("resize",()=>{this.windowHeight=window.innerHeight})}},Wo=["src"];function Mo(o,n,e,i,t,a){return r(),c("div",{class:b(["van-doc-simulator",{"van-doc-simulator-fixed":a.isFixed}])},[d("iframe",{ref:"iframe",src:e.src,style:O(a.simulatorStyle),frameborder:"0"},null,12,Wo)],2)}var zo=h(Do,[["render",Mo]]);const jo={name:"VanDoc",components:{DocNav:co,DocHeader:Io,DocContent:Oo,DocContainer:Ro,DocSimulator:zo},props:{lang:String,versions:Array,simulator:String,hasSimulator:Boolean,langConfigs:Array,config:{type:Object,required:!0},base:{type:String,default:""}},emits:["switch-version"],watch:{$route(){this.setNav()}},created(){this.setNav(),this.keyboardHandler()},methods:{setNav(){const{nav:o}=this.config,n=o.reduce((t,a)=>t.concat(a.items),[]),e=this.$route.path.split("/").pop();let i;for(let t=0,a=n.length;t<a;t++)if(n[t].path===e){i=t;break}this.leftNav=n[i-1],this.rightNav=n[i+1]},keyboardNav(o){if(/win(32|64)/.test(navigator.userAgent.toLocaleLowerCase()))return;const n=o==="prev"?this.leftNav:this.rightNav;n.path&&this.$router.push(this.base+n.path)},keyboardHandler(){window.addEventListener("keyup",o=>{switch(o.keyCode){case 37:this.keyboardNav("prev");break;case 39:this.keyboardNav("next");break}})}}},Zo={class:"van-doc"};function No(o,n,e,i,t,a){const l=p("doc-header"),s=p("doc-nav"),u=p("doc-content"),A=p("doc-container"),E=p("doc-simulator");return r(),c("div",Zo,[v(l,{lang:e.lang,config:e.config,versions:e.versions,"lang-configs":e.langConfigs,onSwitchVersion:n[0]||(n[0]=L=>o.$emit("switch-version",L))},null,8,["lang","config","versions","lang-configs"]),v(s,{lang:e.lang,"nav-config":e.config.nav},null,8,["lang","nav-config"]),v(A,{"has-simulator":e.hasSimulator},{default:w(()=>[v(u,null,{default:w(()=>[y(o.$slots,"default")]),_:3})]),_:3},8,["has-simulator"]),e.hasSimulator?(r(),S(E,{key:0,src:e.simulator},null,8,["src"])):f("v-if",!0)])}var Ho=h(jo,[["render",No]]);const Go={components:{VanDoc:Ho},data(){return{hasSimulator:!0}},computed:{simulator(){var n,e;return(n=g.site.simulator)!=null&&n.url?(e=g.site.simulator)==null?void 0:e.url:`${location.pathname.replace(/\/index(\.html)?/,"/")}mobile.html${location.hash}`},lang(){const{lang:o}=this.$route.meta;return o||""},langConfigs(){const{locales:o={}}=g.site;return Object.keys(o).map(n=>({lang:n,label:o[n].langLabel||""}))},config(){const{locales:o}=g.site;return o?o[this.lang]:g.site},versions(){return g.site.versions||null}},watch:{"$route.path"(){this.setTitleAndToogleSimulator()},lang(o){D(o),this.setTitleAndToogleSimulator()},config:{handler(o){o&&this.setTitleAndToogleSimulator()},immediate:!0}},mounted(){this.$route.hash&&this.$nextTick(()=>{const o=document.querySelector(this.$route.hash);o&&o.scrollIntoView()})},methods:{setTitleAndToogleSimulator(){let{title:o}=this.config;const e=this.config.nav.reduce((i,t)=>[...i,...t.items],[]).find(i=>i.path===this.$route.meta.name);e&&e.title?o=e.title+" - "+o:this.config.description&&(o+=` - ${this.config.description}`),document.title=o,this.hasSimulator=!(g.site.hideSimulator||this.config.hideSimulator||e&&e.hideSimulator)}}},Jo={class:"app"};function Po(o,n,e,i,t,a){const l=p("router-view"),s=p("van-doc");return r(),c("div",Jo,[a.config?(r(),S(s,{key:0,lang:a.lang,config:a.config,versions:a.versions,simulator:a.simulator,"has-simulator":t.hasSimulator,"lang-configs":a.langConfigs},{default:w(()=>[v(l)]),_:1},8,["lang","config","versions","simulator","has-simulator","lang-configs"])):f("v-if",!0)])}var Ko=h(Go,[["render",Po]]);const qo={name:"DemoPlayground",props:{originCode:String,codeSnippet:String,transform:Boolean,compact:Boolean,inline:Boolean},data(){return{showSource:!1,copyStatus:"ready"}},methods:{unescape,toggleSource(){this.showSource=!this.showSource},copySourceCode(){Q(unescape(this.originCode)),this.copyStatus="copied",setTimeout(()=>{this.copyStatus="ready"},2e3)}}},Yo=o=>(P("data-v-356bb874"),o=o(),K(),o),Xo={class:"demo-playground--code"},$o={class:"demo-playground--code--actions"},oe=Yo(()=>d("span",null,null,-1)),ee=["data-status"],ne=["innerHTML"];function ae(o,n,e,i,t,a){return r(),c("div",{class:b({"demo-playground":!e.inline,transform:e.transform})},[e.inline?y(o.$slots,"default",{key:0},void 0,!0):(r(),c(x,{key:1},[d("div",{class:b(["demo-playground--previewer",{compact:e.compact}])},[y(o.$slots,"default",{},void 0,!0)],2),d("div",Xo,[d("div",$o,[oe,d("button",{title:"Copy source code",class:"action-icon",role:"copy","data-status":t.copyStatus,onClick:n[0]||(n[0]=(...l)=>a.copySourceCode&&a.copySourceCode(...l))},null,8,ee),d("button",{title:"Toggle source code panel",class:"action-icon",role:"source",onClick:n[1]||(n[1]=(...l)=>a.toggleSource&&a.toggleSource(...l))})]),G(d("div",{innerHTML:a.unescape(e.codeSnippet),class:"demo-playground--code--content"},null,8,ne),[[J,t.showSource]])])],64))],2)}var I=h(qo,[["render",ae],["__scopeId","data-v-356bb874"]]);W&&location.replace("mobile.html"+location.hash);const{locales:V,defaultLang:te}=g.site;M(te);function ie(o){if(o.indexOf("_")!==-1){const n=o.split("_"),e=n.shift();return{component:`${B(e)}`,lang:n.join("-")}}return{component:`${B(o)}`,lang:""}}function re(o){const n=o.path.split("/")[1];return Object.keys(V).indexOf(n)!==-1?n:Z()}function ce(){const o=[],n=Object.keys(k);V?o.push({name:"notFound",path:"/:path(.*)+",redirect:i=>({name:re(i)})}):o.push({name:"notFound",path:"/:path(.*)+",redirect:{name:"home"}});function e(i,t){o.push({name:t||"home",path:`/${t||""}`,component:i,meta:{lang:t}})}return n.forEach(i=>{const{component:t,lang:a}=ie(i);t==="home"&&e(k[i],a),a?o.push({name:`${a}/${t}`,path:`/${a}/${t}`,component:k[i],meta:{lang:a,name:t}}):o.push({name:`${t}`,path:`/${t}`,component:k[i],meta:{name:t}})}),o}const C=q({history:Y(),routes:ce(),scrollBehavior(o){return o.hash?{el:o.hash}:{top:0}}});C.afterEach(()=>{X(j)});var F;((F=g.site.simulator)==null?void 0:F.syncPathFromSimulator)!==!1&&z(C);window.vueRouter=C;window.app=$(Ko).use(C).component(I.name,I);setTimeout(()=>{window.app.mount("#app")},0);
